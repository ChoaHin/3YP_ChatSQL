<!-- templates/chat.html -->
{% extends 'base.html' %}

{% block content %}
<div class="flex justify-center items-center h-screen">
    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full max-w-md">
        <div class="mb-4 h-96 overflow-y-auto">
            <!-- Conversation history -->
            {% for entry in conversation %}
                {% if entry.type == 'user' %}
                    <div class="text-right">
                        <span class="inline-block bg-blue-200 rounded px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">{{ entry.text }}</span>
                    </div>
                {% else %}
                    <div class="text-left">
                        <span class="inline-block bg-green-200 rounded px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">{{ entry.text }}</span>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
        <form action="/chat" method="post">
            <input class="shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline" id="message" name="message" type="text" placeholder="Type your message">
            <button class="bg-primary-color hover:bg-opacity-75 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline mt-4" type="submit">
                Send
            </button>
        </form>
    </div>
</div>
<script>
    var chatWindow = document.querySelector('.h-96');
    chatWindow.scrollTop = chatWindow.scrollHeight;
</script>

{% endblock %}
