<!-- templates/chat.html -->
{% extends 'base.html' %}

{% block content %}
<div class="flex justify-center items-center h-screen">
    <div class="bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4 w-full max-w-md">
        <div class="mb-4 h-96 overflow-y-auto">
            <!-- conversation history -->
            {% for entry in conversation %}
                {% if entry.type == 'user' %}
                    <div class="text-right">
                        <span class="inline-block bg-blue-200 rounded px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">{{ entry.text }}</span>
                    </div>
                {% else %}
                    <div class="text-left">
                        <span class="inline-block bg-green-200 rounded px-3 py-1 text-sm font-semibold text-gray-700 mr-2 mb-2">{{ entry.text }}</span>
                    </div>
                {% endif %}
            {% endfor %}
        </div>
        <form action="/chat" method="post" class="flex items-center bg-white rounded">
            <input class="shadow appearance-none border rounded-l w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none" id="message" name="message" type="text" placeholder="Type your message">
            <button class="bg-primary-color hover:bg-opacity-75 text-gray-700 font-bold p-2 rounded-r focus:outline-none focus:shadow-outline flex items-center" type="submit">                <!-- SVG for the send button with updated fill color for visibility -->
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 535.5 535.5" width="32" height="32" fill="#023047" class="ml-1 mr-2">
                    <polygon points="0,497.25 535.5,267.75 0,38.25 0,216.75 382.5,267.75 0,318.75"/>
                </svg>
            </button>
        </form>
    </div>
</div>
<script>
    var chatWindow = document.querySelector('.h-96');
    chatWindow.scrollTop = chatWindow.scrollHeight;
</script>

{% endblock %}
